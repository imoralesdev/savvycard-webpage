/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={"./javascript/classes/Component.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n("./node_modules/events/events.js"),i=n.n(s);class r extends(i()){constructor({element:e,elements:t}){super(),this.selector=e,this.selectorChildren={...t},this.create(),this.addEventListeners()}create(){this.selector instanceof window.HTMLElement?this.element=this.selector:this.element=document.querySelector(this.selector),this.elements={},Object.keys(this.selectorChildren).forEach((e=>{const t=this.selectorChildren[e];t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))}))}addEventListeners(){}removeEventListeners(){}}},"./javascript/classes/Page.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});class s{constructor({element:e,elements:t,id:n}){this.selector=e,this.selectorChildren={...t},this.id=n}create(){this.element=document.querySelector(this.selector),this.elements={},Object.keys(this.selectorChildren).forEach((e=>{const t=this.selectorChildren[e];t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))}))}}},"./javascript/components/Navigation.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var s=n("./javascript/classes/Component.js");class i extends s.default{constructor({template:e}){super({element:".navigation",elements:{links:".navigation__item",navMobile:".nav-mobile",navMobileMenu:".nav-mobile-menu"}})}toggleNavMobileActive(){document.body.classList.toggle("overflow-hidden"),this.elements.navMobile.classList.toggle("nav-mobile--active"),this.elements.navMobileMenu.classList.toggle("nav-mobile-menu--active")}addEventListeners(){this.onClickNavMobile=this.toggleNavMobileActive.bind(this),this.elements.navMobile.addEventListener("click",this.onClickNavMobile)}}},"./javascript/components/Quote.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var s=n("./javascript/classes/Component.js");class i extends s.default{constructor(){super({element:".quote-slider",elements:{quotes:".quote-slider__list",quotesSlideLeft:document.getElementById("quote_slider_left"),quotesSlideRight:document.getElementById("quote_slider_right"),quotesCountNumber:".quote-slider__active"}}),this.slides=[],this.slide=0,this.slidesCarousel()}slidesCarousel(){let e=this;this.slides=this.elements.quotes.childNodes,setInterval((function(){e.slides[e.slide].classList.remove("quote-slider__slide-active"),e.slide++,e.elements.quotesCountNumber.innerHTML=e.slide+1,e.slide>=e.slides.length&&(e.slide=0,e.elements.quotesCountNumber.innerHTML=1),e.slides[e.slide].classList.add("quote-slider__slide-active")}),5e3)}slidesMovement(e){switch(this.slides[this.slide].classList.remove("quote-slider__slide-active"),e.target.dataset.movement){case"left":0===this.slide?(this.elements.quotesCountNumber.innerHTML=this.slides.length,this.slide=this.slides.length-1,this.slides[this.slide].classList.add("quote-slider__slide-active")):(this.elements.quotesCountNumber.innerHTML=this.slide,this.slide=this.slide-1,this.slides[this.slide].classList.add("quote-slider__slide-active"));break;case"right":this.slide=this.slide+1,this.elements.quotesCountNumber.innerHTML=this.slide+1,this.slide>=this.slides.length&&(this.elements.quotesCountNumber.innerHTML=1,this.slide=0),this.slides[this.slide].classList.add("quote-slider__slide-active");break;default:return null}}addEventListeners(){this.onClickSlidesArrow=this.slidesMovement.bind(this),this.elements.quotesSlideLeft.addEventListener("click",this.onClickSlidesArrow),this.elements.quotesSlideRight.addEventListener("click",this.onClickSlidesArrow)}}},"./javascript/pages/About/index.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var s=n("./javascript/classes/Page.js");class i extends s.default{constructor(){super({id:"about",element:".about",elements:{aboutBtn:"#about_btn"}})}create(){super.create(),console.log("About Class")}}},"./javascript/pages/Home/index.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n("./javascript/classes/Page.js"),i=n("./javascript/components/Quote.js");class r extends s.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}}),this.createQuote()}create(){super.create()}createQuote(){this.quote=new i.default}}},"./node_modules/events/events.js":e=>{var t,n="object"==typeof Reflect?Reflect:null,s=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(n,s){function i(n){e.removeListener(t,r),s(n)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,r,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function c(e,t,n,s){var i,r,o,c;if(l(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]),void 0===o)o=r[t]=n,++e._eventsCount;else if("function"==typeof o?o=r[t]=s?[n,o]:[o,n]:s?o.unshift(n):o.push(n),(i=a(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(s);return i.listener=n,s.wrapFn=i,i}function h(e,t,n){var s=e._events;if(void 0===s)return[];var i=s[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),s=0;s<t;++s)n[s]=e[s];return n}function m(e,t,n,s){if("function"==typeof e.on)s.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(r){s.once&&e.removeEventListener(t,i),n(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return a(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)s(a,this,t);else{var c=a.length,u=f(a,c);for(n=0;n<c;++n)s(u[n],this,t)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,s,i,r,o;if(l(t),void 0===(s=this._events))return this;if(void 0===(n=s[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){o=n[r].listener,i=r;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(s[e]=n[0]),void 0!==s.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,s;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,r=Object.keys(n);for(s=0;s<r.length;++s)"removeListener"!==(i=r[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{n.r({});var e=n("./javascript/pages/Home/index.js"),t=n("./javascript/pages/About/index.js"),s=n("./javascript/components/Navigation.js");new class{constructor(){this.createContent(),this.createPages(),this.addRouterListeners(),this.createNavigation(),window.onpopstate=()=>{const{href:e}=window.location;this.onChange(e)}}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createNavigation(){this.navigation=new s.default({template:this.template})}createPages(){this.pages={home:new e.default,about:new t.default},this.page=this.pages[this.template],this.page.create()}async onChange(e){const t=await window.fetch(e);if(200===t.status){const e=await t.text(),n=document.createElement("div");n.innerHTML=e;const s=n.querySelector(".content");this.template=s.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=s.innerHTML,this.page=this.pages[this.template],this.page.create(),this.addRouterListeners()}else{const e=new Error("Error on fetch");console.log(e)}}onNavigate(e){window.history.pushState({},e,window.location.origin+e)}addRouterListeners(){const e=document.querySelectorAll("a");Object.keys(e).forEach((t=>{const n=e[t];n.onclick=e=>{e.preventDefault();const{href:t,pathname:s}=n;this.onNavigate(s),this.onChange(t)}}))}}})(),n.r(s)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQ04sTUFBTSxLQUFFNUIsRUFBRixTQUFRc0IsR0FBYUksRUFHM0JoTyxLQUFLMk4sV0FBV0MsR0FDaEI1TixLQUFLd00sU0FBU0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvY2xhc3Nlcy9Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L2NsYXNzZXMvUGFnZS5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9jb21wb25lbnRzL1F1b3RlLmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9wYWdlcy9BYm91dC9pbmRleC5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvcGFnZXMvSG9tZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZWxlbWVudHMgfSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxuICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHtcbiAgICAgIC4uLmVsZW1lbnRzXG4gICAgfVxuICAgIHRoaXMuY3JlYXRlKClcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RvciBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCkge1xuICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5zZWxlY3RvclxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpXG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50cyA9IHt9XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgZW50cnkgPSB0aGlzLnNlbGVjdG9yQ2hpbGRyZW5ba2V5XVxuXG4gICAgICBpZiAoXG4gICAgICAgIGVudHJ5IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8XG4gICAgICAgIGVudHJ5IGluc3RhbmNlb2Ygd2luZG93Lk5vZGVMaXN0IHx8XG4gICAgICAgIEFycmF5LmlzQXJyYXkoZW50cnkpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZW50cnlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZW50cnkpXG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZW50cnkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7fVxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge31cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xuICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGVsZW1lbnRzLCBpZCB9KSB7XG4gICAgdGhpcy5zZWxlY3RvciA9IGVsZW1lbnRcbiAgICB0aGlzLnNlbGVjdG9yQ2hpbGRyZW4gPSB7XG4gICAgICAuLi5lbGVtZW50c1xuICAgIH1cbiAgICB0aGlzLmlkID0gaWRcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpXG4gICAgdGhpcy5lbGVtZW50cyA9IHt9XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgZW50cnkgPSB0aGlzLnNlbGVjdG9yQ2hpbGRyZW5ba2V5XVxuXG4gICAgICBpZiAoXG4gICAgICAgIGVudHJ5IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8XG4gICAgICAgIGVudHJ5IGluc3RhbmNlb2Ygd2luZG93Lk5vZGVMaXN0IHx8XG4gICAgICAgIEFycmF5LmlzQXJyYXkoZW50cnkpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZW50cnlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZW50cnkpXG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZW50cnkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCJjbGFzc2VzL0NvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcih7IHRlbXBsYXRlIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBlbGVtZW50OiBcIi5uYXZpZ2F0aW9uXCIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICBsaW5rczogXCIubmF2aWdhdGlvbl9faXRlbVwiLFxuICAgICAgICBuYXZNb2JpbGU6IFwiLm5hdi1tb2JpbGVcIixcbiAgICAgICAgbmF2TW9iaWxlTWVudTogXCIubmF2LW1vYmlsZS1tZW51XCJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdG9nZ2xlTmF2TW9iaWxlQWN0aXZlKCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcIm92ZXJmbG93LWhpZGRlblwiKVxuICAgIHRoaXMuZWxlbWVudHMubmF2TW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtbW9iaWxlLS1hY3RpdmVcIilcbiAgICB0aGlzLmVsZW1lbnRzLm5hdk1vYmlsZU1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIm5hdi1tb2JpbGUtbWVudS0tYWN0aXZlXCIpXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLm9uQ2xpY2tOYXZNb2JpbGUgPSB0aGlzLnRvZ2dsZU5hdk1vYmlsZUFjdGl2ZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5lbGVtZW50cy5uYXZNb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub25DbGlja05hdk1vYmlsZSlcbiAgfVxufVxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiY2xhc3Nlcy9Db21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdW90ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGVsZW1lbnQ6IFwiLnF1b3RlLXNsaWRlclwiLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcXVvdGVzOiBcIi5xdW90ZS1zbGlkZXJfX2xpc3RcIixcbiAgICAgICAgcXVvdGVzU2xpZGVMZWZ0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1b3RlX3NsaWRlcl9sZWZ0XCIpLFxuICAgICAgICBxdW90ZXNTbGlkZVJpZ2h0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1b3RlX3NsaWRlcl9yaWdodFwiKSxcbiAgICAgICAgcXVvdGVzQ291bnROdW1iZXI6IFwiLnF1b3RlLXNsaWRlcl9fYWN0aXZlXCJcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5zbGlkZXMgPSBbXVxuICAgIHRoaXMuc2xpZGUgPSAwXG4gICAgdGhpcy5zbGlkZXNDYXJvdXNlbCgpXG4gIH1cblxuICBzbGlkZXNDYXJvdXNlbCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzXG4gICAgdGhpcy5zbGlkZXMgPSB0aGlzLmVsZW1lbnRzLnF1b3Rlcy5jaGlsZE5vZGVzXG5cbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zbGlkZXNbX3RoaXMuc2xpZGVdLmNsYXNzTGlzdC5yZW1vdmUoXCJxdW90ZS1zbGlkZXJfX3NsaWRlLWFjdGl2ZVwiKVxuICAgICAgX3RoaXMuc2xpZGUrK1xuICAgICAgX3RoaXMuZWxlbWVudHMucXVvdGVzQ291bnROdW1iZXIuaW5uZXJIVE1MID0gX3RoaXMuc2xpZGUgKyAxXG5cbiAgICAgIGlmIChfdGhpcy5zbGlkZSA+PSBfdGhpcy5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIF90aGlzLnNsaWRlID0gMFxuICAgICAgICBfdGhpcy5lbGVtZW50cy5xdW90ZXNDb3VudE51bWJlci5pbm5lckhUTUwgPSAxXG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNsaWRlc1tfdGhpcy5zbGlkZV0uY2xhc3NMaXN0LmFkZChcInF1b3RlLXNsaWRlcl9fc2xpZGUtYWN0aXZlXCIpXG4gICAgfSwgNTAwMClcbiAgfVxuXG4gIHNsaWRlc01vdmVtZW50KGV2ZW50KSB7XG4gICAgdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV0uY2xhc3NMaXN0LnJlbW92ZShcInF1b3RlLXNsaWRlcl9fc2xpZGUtYWN0aXZlXCIpXG5cbiAgICBzd2l0Y2ggKGV2ZW50LnRhcmdldC5kYXRhc2V0Lm1vdmVtZW50KSB7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBpZiAodGhpcy5zbGlkZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVvdGVzQ291bnROdW1iZXIuaW5uZXJIVE1MID0gdGhpcy5zbGlkZXMubGVuZ3RoXG4gICAgICAgICAgdGhpcy5zbGlkZSA9IHRoaXMuc2xpZGVzLmxlbmd0aCAtIDFcbiAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlXS5jbGFzc0xpc3QuYWRkKFwicXVvdGUtc2xpZGVyX19zbGlkZS1hY3RpdmVcIilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1b3Rlc0NvdW50TnVtYmVyLmlubmVySFRNTCA9IHRoaXMuc2xpZGVcbiAgICAgICAgICB0aGlzLnNsaWRlID0gdGhpcy5zbGlkZSAtIDFcbiAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlXS5jbGFzc0xpc3QuYWRkKFwicXVvdGUtc2xpZGVyX19zbGlkZS1hY3RpdmVcIilcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgIHRoaXMuc2xpZGUgPSB0aGlzLnNsaWRlICsgMVxuICAgICAgICB0aGlzLmVsZW1lbnRzLnF1b3Rlc0NvdW50TnVtYmVyLmlubmVySFRNTCA9IHRoaXMuc2xpZGUgKyAxXG5cbiAgICAgICAgaWYgKHRoaXMuc2xpZGUgPj0gdGhpcy5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5xdW90ZXNDb3VudE51bWJlci5pbm5lckhUTUwgPSAxXG4gICAgICAgICAgdGhpcy5zbGlkZSA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuc2xpZGVdLmNsYXNzTGlzdC5hZGQoXCJxdW90ZS1zbGlkZXJfX3NsaWRlLWFjdGl2ZVwiKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLm9uQ2xpY2tTbGlkZXNBcnJvdyA9IHRoaXMuc2xpZGVzTW92ZW1lbnQuYmluZCh0aGlzKVxuICAgIHRoaXMuZWxlbWVudHMucXVvdGVzU2xpZGVMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLm9uQ2xpY2tTbGlkZXNBcnJvd1xuICAgIClcbiAgICB0aGlzLmVsZW1lbnRzLnF1b3Rlc1NsaWRlUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xpY2tcIixcbiAgICAgIHRoaXMub25DbGlja1NsaWRlc0Fycm93XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUGFnZSBmcm9tIFwiY2xhc3Nlcy9QYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBpZDogXCJhYm91dFwiLFxuICAgICAgZWxlbWVudDogXCIuYWJvdXRcIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGFib3V0QnRuOiBcIiNhYm91dF9idG5cIlxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgc3VwZXIuY3JlYXRlKClcbiAgICBjb25zb2xlLmxvZyhcIkFib3V0IENsYXNzXCIpXG4gIH1cbn1cbiIsImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIlxuaW1wb3J0IFF1b3RlIGZyb20gXCJjb21wb25lbnRzL1F1b3RlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBpZDogXCJob21lXCIsXG4gICAgICBlbGVtZW50OiBcIi5ob21lXCIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICBob21lQnRuOiBcIiNob21lX2J0blwiXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuY3JlYXRlUXVvdGUoKVxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHN1cGVyLmNyZWF0ZSgpXG4gIH1cblxuICBjcmVhdGVRdW90ZSgpIHtcbiAgICB0aGlzLnF1b3RlID0gbmV3IFF1b3RlKClcbiAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgSG9tZSBmcm9tIFwiLi9wYWdlcy9Ib21lXCJcbmltcG9ydCBBYm91dCBmcm9tIFwiLi9wYWdlcy9BYm91dFwiXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL05hdmlnYXRpb25cIlxuXG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKVxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuICAgIHRoaXMuYWRkUm91dGVyTGlzdGVuZXJzKClcbiAgICB0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKVxuXG4gICAgLy8gUmVhY3RpbmcgdG8gYmFjayBvciBmb3dhcmQgYnV0dG9uIHRvIHJvdXRlclxuICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBocmVmIH0gPSB3aW5kb3cubG9jYXRpb25cbiAgICAgIHRoaXMub25DaGFuZ2UoaHJlZilcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKVxuICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmNvbnRlbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10ZW1wbGF0ZVwiKVxuICB9XG5cbiAgY3JlYXRlTmF2aWdhdGlvbigpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbih7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVQYWdlcygpIHtcbiAgICB0aGlzLnBhZ2VzID0ge1xuICAgICAgaG9tZTogbmV3IEhvbWUoKSxcbiAgICAgIGFib3V0OiBuZXcgQWJvdXQoKVxuICAgIH1cblxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICB0aGlzLnBhZ2UuY3JlYXRlKClcbiAgfVxuXG4gIC8vIE1pbWljIFJlYWN0IFJvdXRlclxuICBhc3luYyBvbkNoYW5nZSh1cmwpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgd2luZG93LmZldGNoKHVybClcblxuICAgIC8vIFJlbmRlcmluZyBwYWdlXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKVxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXG4gICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFxuXG4gICAgICBjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKVxuICAgICAgdGhpcy50ZW1wbGF0ZSA9IGRpdkNvbnRlbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10ZW1wbGF0ZVwiKVxuXG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKFwiZGF0YS10ZW1wbGF0ZVwiLCB0aGlzLnRlbXBsYXRlKVxuICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MXG5cbiAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICAgICAgdGhpcy5hZGRSb3V0ZXJMaXN0ZW5lcnMoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJFcnJvciBvbiBmZXRjaFwiKVxuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH1cbiAgfVxuXG4gIG9uTmF2aWdhdGUocGF0aG5hbWUpIHtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIHBhdGhuYW1lLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgcGF0aG5hbWUpXG4gIH1cblxuICBhZGRSb3V0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYVwiKVxuXG4gICAgT2JqZWN0LmtleXMobGlua3MpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgbGluayA9IGxpbmtzW2tleV1cblxuICAgICAgbGluay5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgY29uc3QgeyBocmVmLCBwYXRobmFtZSB9ID0gbGlua1xuXG4gICAgICAgIC8vIFNldHRpbmcgcm91dGVyIHBhdGggb24gVVJMXG4gICAgICAgIHRoaXMub25OYXZpZ2F0ZShwYXRobmFtZSlcbiAgICAgICAgdGhpcy5vbkNoYW5nZShocmVmKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxubmV3IEFwcCgpXG4iXSwibmFtZXMiOlsiQ29tcG9uZW50IiwiRXZlbnRFbWl0dGVyIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiZWxlbWVudHMiLCJzdXBlciIsInRoaXMiLCJzZWxlY3RvciIsInNlbGVjdG9yQ2hpbGRyZW4iLCJjcmVhdGUiLCJhZGRFdmVudExpc3RlbmVycyIsIndpbmRvdyIsIkhUTUxFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJlbnRyeSIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiUGFnZSIsImlkIiwiTmF2aWdhdGlvbiIsInRlbXBsYXRlIiwibGlua3MiLCJuYXZNb2JpbGUiLCJuYXZNb2JpbGVNZW51IiwidG9nZ2xlTmF2TW9iaWxlQWN0aXZlIiwiYm9keSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9uQ2xpY2tOYXZNb2JpbGUiLCJiaW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlF1b3RlIiwicXVvdGVzIiwicXVvdGVzU2xpZGVMZWZ0IiwiZ2V0RWxlbWVudEJ5SWQiLCJxdW90ZXNTbGlkZVJpZ2h0IiwicXVvdGVzQ291bnROdW1iZXIiLCJzbGlkZXMiLCJzbGlkZSIsInNsaWRlc0Nhcm91c2VsIiwiX3RoaXMiLCJjaGlsZE5vZGVzIiwic2V0SW50ZXJ2YWwiLCJyZW1vdmUiLCJpbm5lckhUTUwiLCJhZGQiLCJzbGlkZXNNb3ZlbWVudCIsImV2ZW50IiwidGFyZ2V0IiwiZGF0YXNldCIsIm1vdmVtZW50Iiwib25DbGlja1NsaWRlc0Fycm93IiwiSG9tZSIsImFib3V0QnRuIiwiY29uc29sZSIsImxvZyIsImhvbWVCdG4iLCJjcmVhdGVRdW90ZSIsInF1b3RlIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJjYWxsIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwidmFsdWUiLCJpbml0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm9uY2UiLCJlbWl0dGVyIiwibmFtZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImFyZ3VtZW50cyIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJUeXBlRXJyb3IiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwibSIsImV2ZW50cyIsImV4aXN0aW5nIiwid2FybmluZyIsIm5ld0xpc3RlbmVyIiwiZW1pdCIsInVuc2hpZnQiLCJwdXNoIiwid2FybmVkIiwidyIsIkVycm9yIiwiU3RyaW5nIiwiY291bnQiLCJ3YXJuIiwib25jZVdyYXBwZXIiLCJmaXJlZCIsIndyYXBGbiIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiaSIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50IiwibiIsImNvcHkiLCJ3cmFwTGlzdGVuZXIiLCJhcmciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImxlbiIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsImluZGV4IiwicG9wIiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVQYWdlcyIsImFkZFJvdXRlckxpc3RlbmVycyIsImNyZWF0ZU5hdmlnYXRpb24iLCJvbnBvcHN0YXRlIiwiaHJlZiIsImxvY2F0aW9uIiwib25DaGFuZ2UiLCJjb250ZW50IiwiZ2V0QXR0cmlidXRlIiwibmF2aWdhdGlvbiIsInBhZ2VzIiwiaG9tZSIsImFib3V0IiwiQWJvdXQiLCJwYWdlIiwidXJsIiwicmVxdWVzdCIsImZldGNoIiwic3RhdHVzIiwiaHRtbCIsInRleHQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIm9uTmF2aWdhdGUiLCJwYXRobmFtZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJvcmlnaW4iLCJsaW5rIiwib25jbGljayIsInByZXZlbnREZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==