/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={"./javascript/classes/Component.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var n=s("./node_modules/events/events.js"),i=s.n(n);class r extends(i()){constructor({element:e,elements:t}){super(),this.selector=e,this.selectorChildren={...t},this.create(),this.addEventListeners()}create(){this.selector instanceof window.HTMLElement?this.element=this.selector:this.element=document.querySelector(this.selector),this.elements={},Object.keys(this.selectorChildren).forEach((e=>{const t=this.selectorChildren[e];t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))}))}addEventListeners(){}removeEventListeners(){}}},"./javascript/classes/Page.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});class n{constructor({element:e,elements:t,id:s}){this.selector=e,this.selectorChildren={...t},this.id=s}create(){this.element=document.querySelector(this.selector),this.elements={},Object.keys(this.selectorChildren).forEach((e=>{const t=this.selectorChildren[e];t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))}))}}},"./javascript/components/Navigation.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Component.js");class i extends n.default{constructor({template:e}){super({element:".navigation",elements:{links:".navigation__item",navMobile:".nav-mobile",navMobileMenu:".nav-mobile-menu"}})}toggleNavMobileActive(){document.body.classList.toggle("overflow-hidden"),this.elements.navMobile.classList.toggle("nav-mobile--active"),this.elements.navMobileMenu.classList.toggle("nav-mobile-menu--active")}addEventListeners(){this.onClickNavMobile=this.toggleNavMobileActive.bind(this),this.elements.navMobile.addEventListener("click",this.onClickNavMobile)}}},"./javascript/components/Quote.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Component.js");class i extends n.default{constructor(){super({element:".quote-slider",elements:{quotes:".quote-slider__list",quotesSlideLeft:"#quote_slider_left",quotesSlideRight:"#quote_slider_right",quotesCountNumber:".quote-slider__active"}}),this.slides=[],this.slide=0,this.slidesCarousel()}slidesCarousel(){let e=this;this.slides=this.elements.quotes.childNodes,setInterval((function(){e.slides[e.slide].classList.remove("quote-slider__slide-active"),e.slide++,e.elements.quotesCountNumber.innerHTML=e.slide+1,e.slide>=e.slides.length&&(e.slide=0,e.elements.quotesCountNumber.innerHTML=1),e.slides[e.slide].classList.add("quote-slider__slide-active")}),5e3)}slidesMovement(e){switch(this.slides[this.slide].classList.remove("quote-slider__slide-active"),e.target.dataset.movement){case"left":0===this.slide?(this.elements.quotesCountNumber.innerHTML=this.slides.length,this.slide=this.slides.length-1,this.slides[this.slide].classList.add("quote-slider__slide-active")):(this.elements.quotesCountNumber.innerHTML=this.slide,this.slide=this.slide-1,this.slides[this.slide].classList.add("quote-slider__slide-active"));break;case"right":this.slide=this.slide+1,this.elements.quotesCountNumber.innerHTML=this.slide+1,this.slide>=this.slides.length&&(this.elements.quotesCountNumber.innerHTML=1,this.slide=0),this.slides[this.slide].classList.add("quote-slider__slide-active");break;default:return null}}addEventListeners(){this.onClickSlidesArrow=this.slidesMovement.bind(this),this.elements.quotesSlideLeft.addEventListener("click",this.onClickSlidesArrow),this.elements.quotesSlideRight.addEventListener("click",this.onClickSlidesArrow)}}},"./javascript/pages/Business/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Page.js");class i extends n.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}})}create(){super.create(),console.log("Business Page")}}},"./javascript/pages/Enterprise/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Page.js");class i extends n.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}})}create(){super.create(),console.log("Enterprise Page")}}},"./javascript/pages/Home/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var n=s("./javascript/classes/Page.js"),i=s("./javascript/components/Quote.js");class r extends n.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}})}create(){super.create(),this.createQuote()}createQuote(){this.quote=new i.default}}},"./javascript/pages/RealEstate/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Page.js");class i extends n.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}})}create(){super.create(),console.log("Real Estate Page")}}},"./node_modules/events/events.js":e=>{var t,s="object"==typeof Reflect?Reflect:null,n=s&&"function"==typeof s.apply?s.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)};t=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(s,n){function i(s){e.removeListener(t,r),n(s)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",i),s([].slice.call(arguments))}m(e,t,r,{once:!0}),"error"!==t&&function(e,t,s){"function"==typeof e.on&&m(e,"error",t,s)}(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function c(e,t,s,n){var i,r,o,c;if(l(s),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,s.listener?s.listener:s),r=e._events),o=r[t]),void 0===o)o=r[t]=s,++e._eventsCount;else if("function"==typeof o?o=r[t]=n?[s,o]:[o,s]:n?o.unshift(s):o.push(s),(i=a(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,s){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},i=u.bind(n);return i.listener=s,n.wrapFn=i,i}function h(e,t,s){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?s?[i.listener||i]:[i]:s?function(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}(i):p(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var s=t[e];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function p(e,t){for(var s=new Array(t),n=0;n<t;++n)s[n]=e[n];return s}function m(e,t,s,n){if("function"==typeof e.on)n.once?e.once(t,s):e.on(t,s);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(r){n.once&&e.removeEventListener(t,i),s(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return a(this)},r.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)n(a,this,t);else{var c=a.length,u=p(a,c);for(s=0;s<c;++s)n(u[s],this,t)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var s,n,i,r,o;if(l(t),void 0===(n=this._events))return this;if(void 0===(s=n[e]))return this;if(s===t||s.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,s.listener||t));else if("function"!=typeof s){for(i=-1,r=s.length-1;r>=0;r--)if(s[r]===t||s[r].listener===t){o=s[r].listener,i=r;break}if(i<0)return this;0===i?s.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(s,i),1===s.length&&(n[e]=s[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,s,n;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[e]),this;if(0===arguments.length){var i,r=Object.keys(s);for(n=0;n<r.length;++n)"removeListener"!==(i=r[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=s[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{s.r({});var e=s("./javascript/pages/Home/index.js"),t=s("./javascript/pages/RealEstate/index.js"),n=s("./javascript/pages/Business/index.js"),i=s("./javascript/pages/Enterprise/index.js"),r=s("./javascript/components/Navigation.js");new class{constructor(){this.createContent(),this.createPages(),this.addRouterListeners(),this.createNavigation(),window.onpopstate=()=>{const{href:e}=window.location;this.onChange(e)}}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createNavigation(){this.navigation=new r.default({template:this.template})}createPages(){this.pages={home:new e.default,real_estate:new t.default,business:new n.default,enterprise:new i.default},this.page=this.pages[this.template],this.page.create()}async onChange(e){const t=await window.fetch(e);if(200===t.status){const e=await t.text(),s=document.createElement("div");s.innerHTML=e;const n=s.querySelector(".content");this.template=n.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=n.innerHTML,this.page=this.pages[this.template],this.page.create(),this.addRouterListeners()}else{const e=new Error("Error on fetch");console.log(e)}}onNavigate(e){window.history.pushState({},e,window.location.origin+e)}addRouterListeners(){const e=document.querySelectorAll("a");Object.keys(e).forEach((t=>{const s=e[t];s.onclick=e=>{e.preventDefault();const{href:t,pathname:n}=s;this.onNavigate(n),this.onChange(t)}}))}}})(),s.r(n)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TixLQUFLL00sU0FDVkgsS0FBS29NLHlCQUNBLENBQ0wsTUFBTXpHLEVBQU0sSUFBSWlDLE1BQU0sa0JBQ3RCcEUsUUFBUUMsSUFBSWtDLElBSWhCa0ksV0FBV0MsR0FDVHpOLE9BQU8wTixRQUFRQyxVQUFVLEdBQUlGLEVBQVV6TixPQUFPbU0sU0FBU3lCLE9BQVNILEdBR2xFMUIscUJBQ0UsTUFBTTVLLEVBQVFqQixTQUFTVSxpQkFBaUIsS0FFeENSLE9BQU9DLEtBQUtjLEdBQU9iLFNBQVNDLElBQzFCLE1BQU1zTixFQUFPMU0sRUFBTVosR0FFbkJzTixFQUFLQyxRQUFXbEwsSUFDZEEsRUFBTW1MLGlCQUNOLE1BQU0sS0FBRTdCLEVBQUYsU0FBUXVCLEdBQWFJLEVBRzNCbE8sS0FBSzZOLFdBQVdDLEdBQ2hCOU4sS0FBS3lNLFNBQVNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L2NsYXNzZXMvQ29tcG9uZW50LmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9jbGFzc2VzL1BhZ2UuanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L2NvbXBvbmVudHMvTmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvY29tcG9uZW50cy9RdW90ZS5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvcGFnZXMvQnVzaW5lc3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L3BhZ2VzL0VudGVycHJpc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L3BhZ2VzL0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L3BhZ2VzL1JlYWxFc3RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCJldmVudHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGVsZW1lbnRzIH0pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5zZWxlY3RvciA9IGVsZW1lbnRcbiAgICB0aGlzLnNlbGVjdG9yQ2hpbGRyZW4gPSB7XG4gICAgICAuLi5lbGVtZW50c1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZSgpXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0b3IgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuc2VsZWN0b3JcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMgPSB7fVxuXG4gICAgT2JqZWN0LmtleXModGhpcy5zZWxlY3RvckNoaWxkcmVuKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5zZWxlY3RvckNoaWxkcmVuW2tleV1cblxuICAgICAgaWYgKFxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCB8fFxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fFxuICAgICAgICBBcnJheS5pc0FycmF5KGVudHJ5KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVudHJ5KVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gbnVsbFxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge31cblxuICByZW1vdmVFdmVudExpc3RlbmVycygpIHt9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcbiAgY29uc3RydWN0b3IoeyBlbGVtZW50LCBlbGVtZW50cywgaWQgfSkge1xuICAgIHRoaXMuc2VsZWN0b3IgPSBlbGVtZW50XG4gICAgdGhpcy5zZWxlY3RvckNoaWxkcmVuID0ge1xuICAgICAgLi4uZWxlbWVudHNcbiAgICB9XG4gICAgdGhpcy5pZCA9IGlkXG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgIHRoaXMuZWxlbWVudHMgPSB7fVxuXG4gICAgT2JqZWN0LmtleXModGhpcy5zZWxlY3RvckNoaWxkcmVuKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5zZWxlY3RvckNoaWxkcmVuW2tleV1cblxuICAgICAgaWYgKFxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCB8fFxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fFxuICAgICAgICBBcnJheS5pc0FycmF5KGVudHJ5KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVudHJ5KVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gbnVsbFxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiY2xhc3Nlcy9Db21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoeyB0ZW1wbGF0ZSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgZWxlbWVudDogXCIubmF2aWdhdGlvblwiLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgbGlua3M6IFwiLm5hdmlnYXRpb25fX2l0ZW1cIixcbiAgICAgICAgbmF2TW9iaWxlOiBcIi5uYXYtbW9iaWxlXCIsXG4gICAgICAgIG5hdk1vYmlsZU1lbnU6IFwiLm5hdi1tb2JpbGUtbWVudVwiXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHRvZ2dsZU5hdk1vYmlsZUFjdGl2ZSgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJvdmVyZmxvdy1oaWRkZW5cIilcbiAgICB0aGlzLmVsZW1lbnRzLm5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwibmF2LW1vYmlsZS0tYWN0aXZlXCIpXG4gICAgdGhpcy5lbGVtZW50cy5uYXZNb2JpbGVNZW51LmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtbW9iaWxlLW1lbnUtLWFjdGl2ZVwiKVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5vbkNsaWNrTmF2TW9iaWxlID0gdGhpcy50b2dnbGVOYXZNb2JpbGVBY3RpdmUuYmluZCh0aGlzKVxuICAgIHRoaXMuZWxlbWVudHMubmF2TW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm9uQ2xpY2tOYXZNb2JpbGUpXG4gIH1cbn1cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcImNsYXNzZXMvQ29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVvdGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBlbGVtZW50OiBcIi5xdW90ZS1zbGlkZXJcIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIHF1b3RlczogXCIucXVvdGUtc2xpZGVyX19saXN0XCIsXG4gICAgICAgIHF1b3Rlc1NsaWRlTGVmdDogXCIjcXVvdGVfc2xpZGVyX2xlZnRcIixcbiAgICAgICAgcXVvdGVzU2xpZGVSaWdodDogXCIjcXVvdGVfc2xpZGVyX3JpZ2h0XCIsXG4gICAgICAgIHF1b3Rlc0NvdW50TnVtYmVyOiBcIi5xdW90ZS1zbGlkZXJfX2FjdGl2ZVwiXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuc2xpZGVzID0gW11cbiAgICB0aGlzLnNsaWRlID0gMFxuICAgIHRoaXMuc2xpZGVzQ2Fyb3VzZWwoKVxuICB9XG5cbiAgc2xpZGVzQ2Fyb3VzZWwoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpc1xuICAgIHRoaXMuc2xpZGVzID0gdGhpcy5lbGVtZW50cy5xdW90ZXMuY2hpbGROb2Rlc1xuXG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2xpZGVzW190aGlzLnNsaWRlXS5jbGFzc0xpc3QucmVtb3ZlKFwicXVvdGUtc2xpZGVyX19zbGlkZS1hY3RpdmVcIilcbiAgICAgIF90aGlzLnNsaWRlKytcbiAgICAgIF90aGlzLmVsZW1lbnRzLnF1b3Rlc0NvdW50TnVtYmVyLmlubmVySFRNTCA9IF90aGlzLnNsaWRlICsgMVxuXG4gICAgICBpZiAoX3RoaXMuc2xpZGUgPj0gX3RoaXMuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBfdGhpcy5zbGlkZSA9IDBcbiAgICAgICAgX3RoaXMuZWxlbWVudHMucXVvdGVzQ291bnROdW1iZXIuaW5uZXJIVE1MID0gMVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5zbGlkZXNbX3RoaXMuc2xpZGVdLmNsYXNzTGlzdC5hZGQoXCJxdW90ZS1zbGlkZXJfX3NsaWRlLWFjdGl2ZVwiKVxuICAgIH0sIDUwMDApXG4gIH1cblxuICBzbGlkZXNNb3ZlbWVudChldmVudCkge1xuICAgIHRoaXMuc2xpZGVzW3RoaXMuc2xpZGVdLmNsYXNzTGlzdC5yZW1vdmUoXCJxdW90ZS1zbGlkZXJfX3NsaWRlLWFjdGl2ZVwiKVxuXG4gICAgc3dpdGNoIChldmVudC50YXJnZXQuZGF0YXNldC5tb3ZlbWVudCkge1xuICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgaWYgKHRoaXMuc2xpZGUgPT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1b3Rlc0NvdW50TnVtYmVyLmlubmVySFRNTCA9IHRoaXMuc2xpZGVzLmxlbmd0aFxuICAgICAgICAgIHRoaXMuc2xpZGUgPSB0aGlzLnNsaWRlcy5sZW5ndGggLSAxXG4gICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV0uY2xhc3NMaXN0LmFkZChcInF1b3RlLXNsaWRlcl9fc2xpZGUtYWN0aXZlXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5xdW90ZXNDb3VudE51bWJlci5pbm5lckhUTUwgPSB0aGlzLnNsaWRlXG4gICAgICAgICAgdGhpcy5zbGlkZSA9IHRoaXMuc2xpZGUgLSAxXG4gICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV0uY2xhc3NMaXN0LmFkZChcInF1b3RlLXNsaWRlcl9fc2xpZGUtYWN0aXZlXCIpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICB0aGlzLnNsaWRlID0gdGhpcy5zbGlkZSArIDFcbiAgICAgICAgdGhpcy5lbGVtZW50cy5xdW90ZXNDb3VudE51bWJlci5pbm5lckhUTUwgPSB0aGlzLnNsaWRlICsgMVxuXG4gICAgICAgIGlmICh0aGlzLnNsaWRlID49IHRoaXMuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVvdGVzQ291bnROdW1iZXIuaW5uZXJIVE1MID0gMVxuICAgICAgICAgIHRoaXMuc2xpZGUgPSAwXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlXS5jbGFzc0xpc3QuYWRkKFwicXVvdGUtc2xpZGVyX19zbGlkZS1hY3RpdmVcIilcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5vbkNsaWNrU2xpZGVzQXJyb3cgPSB0aGlzLnNsaWRlc01vdmVtZW50LmJpbmQodGhpcylcbiAgICB0aGlzLmVsZW1lbnRzLnF1b3Rlc1NsaWRlTGVmdC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgdGhpcy5vbkNsaWNrU2xpZGVzQXJyb3dcbiAgICApXG4gICAgdGhpcy5lbGVtZW50cy5xdW90ZXNTbGlkZVJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLm9uQ2xpY2tTbGlkZXNBcnJvd1xuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFBhZ2UgZnJvbSBcImNsYXNzZXMvUGFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1c2luZXNzIGV4dGVuZHMgUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGlkOiBcImhvbWVcIixcbiAgICAgIGVsZW1lbnQ6IFwiLmhvbWVcIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGhvbWVCdG46IFwiI2hvbWVfYnRuXCJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHN1cGVyLmNyZWF0ZSgpXG4gICAgY29uc29sZS5sb2coXCJCdXNpbmVzcyBQYWdlXCIpXG4gIH1cbn1cbiIsImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRlcnByaXNlIGV4dGVuZHMgUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGlkOiBcImhvbWVcIixcbiAgICAgIGVsZW1lbnQ6IFwiLmhvbWVcIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGhvbWVCdG46IFwiI2hvbWVfYnRuXCJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHN1cGVyLmNyZWF0ZSgpXG4gICAgY29uc29sZS5sb2coXCJFbnRlcnByaXNlIFBhZ2VcIilcbiAgfVxufSIsImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIlxuaW1wb3J0IFF1b3RlIGZyb20gXCJjb21wb25lbnRzL1F1b3RlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBpZDogXCJob21lXCIsXG4gICAgICBlbGVtZW50OiBcIi5ob21lXCIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICBob21lQnRuOiBcIiNob21lX2J0blwiXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBzdXBlci5jcmVhdGUoKVxuICAgIHRoaXMuY3JlYXRlUXVvdGUoKVxuICB9XG5cbiAgY3JlYXRlUXVvdGUoKSB7XG4gICAgdGhpcy5xdW90ZSA9IG5ldyBRdW90ZSgpXG4gIH1cbn1cbiIsImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFsRXN0YXRlIGV4dGVuZHMgUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGlkOiBcImhvbWVcIixcbiAgICAgIGVsZW1lbnQ6IFwiLmhvbWVcIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGhvbWVCdG46IFwiI2hvbWVfYnRuXCJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHN1cGVyLmNyZWF0ZSgpXG4gICAgY29uc29sZS5sb2coXCJSZWFsIEVzdGF0ZSBQYWdlXCIpXG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5vbmNlID0gb25jZTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZW1pdHRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsIHJlc29sdmVyKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfTtcblxuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgbGlzdGVuZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEV2ZW50VGFyZ2V0IGRvZXMgbm90IGhhdmUgYGVycm9yYCBldmVudCBzZW1hbnRpY3MgbGlrZSBOb2RlXG4gICAgLy8gRXZlbnRFbWl0dGVycywgd2UgZG8gbm90IGxpc3RlbiBmb3IgYGVycm9yYCBldmVudHMgaGVyZS5cbiAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZykge1xuICAgICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBidWlsdGluIGB7IG9uY2U6IHRydWUgfWAgc3VwcG9ydCBzbyB3ZVxuICAgICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseS5cbiAgICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgbGlzdGVuZXIoYXJnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IEhvbWUgZnJvbSBcIi4vcGFnZXMvSG9tZVwiXG5pbXBvcnQgUmVhbEVzdGF0ZSBmcm9tIFwiLi9wYWdlcy9SZWFsRXN0YXRlXCJcbmltcG9ydCBCdXNpbmVzcyBmcm9tIFwiLi9wYWdlcy9CdXNpbmVzc1wiXG5pbXBvcnQgRW50ZXJwcmlzZSBmcm9tIFwiLi9wYWdlcy9FbnRlcnByaXNlXCJcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvTmF2aWdhdGlvblwiXG5cblxuY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jcmVhdGVDb250ZW50KClcbiAgICB0aGlzLmNyZWF0ZVBhZ2VzKClcbiAgICB0aGlzLmFkZFJvdXRlckxpc3RlbmVycygpXG4gICAgdGhpcy5jcmVhdGVOYXZpZ2F0aW9uKClcblxuICAgIC8vIFJlYWN0aW5nIHRvIGJhY2sgb3IgZm93YXJkIGJ1dHRvbiB0byByb3V0ZXJcbiAgICB3aW5kb3cub25wb3BzdGF0ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgaHJlZiB9ID0gd2luZG93LmxvY2F0aW9uXG4gICAgICB0aGlzLm9uQ2hhbmdlKGhyZWYpXG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQ29udGVudCgpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIilcbiAgICB0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGVtcGxhdGVcIilcbiAgfVxuXG4gIGNyZWF0ZU5hdmlnYXRpb24oKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uID0gbmV3IE5hdmlnYXRpb24oe1xuICAgICAgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGVcbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlUGFnZXMoKSB7XG4gICAgdGhpcy5wYWdlcyA9IHtcbiAgICAgIGhvbWU6IG5ldyBIb21lKCksXG4gICAgICByZWFsX2VzdGF0ZTogbmV3IFJlYWxFc3RhdGUoKSxcbiAgICAgIGJ1c2luZXNzOiBuZXcgQnVzaW5lc3MoKSxcbiAgICAgIGVudGVycHJpc2U6IG5ldyBFbnRlcnByaXNlKClcbiAgICB9XG4gICAgXG4gICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICB9XG5cbiAgLy8gTWltaWMgUmVhY3QgUm91dGVyXG4gIGFzeW5jIG9uQ2hhbmdlKHVybCkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxuXG4gICAgLy8gUmVuZGVyaW5nIHBhZ2VcbiAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlcXVlc3QudGV4dCgpXG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cbiAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sXG5cbiAgICAgIGNvbnN0IGRpdkNvbnRlbnQgPSBkaXYucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpXG4gICAgICB0aGlzLnRlbXBsYXRlID0gZGl2Q29udGVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRlbXBsYXRlXCIpXG5cbiAgICAgIHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRlbXBsYXRlXCIsIHRoaXMudGVtcGxhdGUpXG4gICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gZGl2Q29udGVudC5pbm5lckhUTUxcblxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG4gICAgICB0aGlzLmFkZFJvdXRlckxpc3RlbmVycygpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcIkVycm9yIG9uIGZldGNoXCIpXG4gICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgfVxuICB9XG5cbiAgb25OYXZpZ2F0ZShwYXRobmFtZSkge1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgcGF0aG5hbWUsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyBwYXRobmFtZSlcbiAgfVxuXG4gIGFkZFJvdXRlckxpc3RlbmVycygpIHtcbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhXCIpXG5cbiAgICBPYmplY3Qua2V5cyhsaW5rcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBsaW5rID0gbGlua3Nba2V5XVxuXG4gICAgICBsaW5rLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBjb25zdCB7IGhyZWYsIHBhdGhuYW1lIH0gPSBsaW5rXG5cbiAgICAgICAgLy8gU2V0dGluZyByb3V0ZXIgcGF0aCBvbiBVUkxcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRlKHBhdGhuYW1lKVxuICAgICAgICB0aGlzLm9uQ2hhbmdlKGhyZWYpXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG5uZXcgQXBwKClcbiJdLCJuYW1lcyI6WyJDb21wb25lbnQiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJlbGVtZW50cyIsInN1cGVyIiwidGhpcyIsInNlbGVjdG9yIiwic2VsZWN0b3JDaGlsZHJlbiIsImNyZWF0ZSIsImFkZEV2ZW50TGlzdGVuZXJzIiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImVudHJ5IiwiTm9kZUxpc3QiLCJBcnJheSIsImlzQXJyYXkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJQYWdlIiwiaWQiLCJOYXZpZ2F0aW9uIiwidGVtcGxhdGUiLCJsaW5rcyIsIm5hdk1vYmlsZSIsIm5hdk1vYmlsZU1lbnUiLCJ0b2dnbGVOYXZNb2JpbGVBY3RpdmUiLCJib2R5IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwib25DbGlja05hdk1vYmlsZSIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiUXVvdGUiLCJxdW90ZXMiLCJxdW90ZXNTbGlkZUxlZnQiLCJxdW90ZXNTbGlkZVJpZ2h0IiwicXVvdGVzQ291bnROdW1iZXIiLCJzbGlkZXMiLCJzbGlkZSIsInNsaWRlc0Nhcm91c2VsIiwiX3RoaXMiLCJjaGlsZE5vZGVzIiwic2V0SW50ZXJ2YWwiLCJyZW1vdmUiLCJpbm5lckhUTUwiLCJhZGQiLCJzbGlkZXNNb3ZlbWVudCIsImV2ZW50IiwidGFyZ2V0IiwiZGF0YXNldCIsIm1vdmVtZW50Iiwib25DbGlja1NsaWRlc0Fycm93IiwiQnVzaW5lc3MiLCJob21lQnRuIiwiY29uc29sZSIsImxvZyIsIkVudGVycHJpc2UiLCJIb21lIiwiY3JlYXRlUXVvdGUiLCJxdW90ZSIsIlJlYWxFc3RhdGUiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwiYXBwbHkiLCJyZWNlaXZlciIsImFyZ3MiLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsImNhbGwiLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJ2YWx1ZSIsImluaXQiLCJtb2R1bGUiLCJleHBvcnRzIiwib25jZSIsImVtaXR0ZXIiLCJuYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvckxpc3RlbmVyIiwiZXJyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZXNvbHZlciIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiaGFuZGxlciIsImZsYWdzIiwib24iLCJhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJ1bmRlZmluZWQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJtIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsInB1c2giLCJ3YXJuZWQiLCJ3IiwiRXJyb3IiLCJTdHJpbmciLCJjb3VudCIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJhcnIiLCJyZXQiLCJpIiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJuIiwiY29weSIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXJyb3IiLCJlciIsIm1lc3NhZ2UiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNoaWZ0IiwiaW5kZXgiLCJwb3AiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiY3JlYXRlQ29udGVudCIsImNyZWF0ZVBhZ2VzIiwiYWRkUm91dGVyTGlzdGVuZXJzIiwiY3JlYXRlTmF2aWdhdGlvbiIsIm9ucG9wc3RhdGUiLCJocmVmIiwibG9jYXRpb24iLCJvbkNoYW5nZSIsImNvbnRlbnQiLCJnZXRBdHRyaWJ1dGUiLCJuYXZpZ2F0aW9uIiwicGFnZXMiLCJob21lIiwicmVhbF9lc3RhdGUiLCJidXNpbmVzcyIsImVudGVycHJpc2UiLCJwYWdlIiwidXJsIiwicmVxdWVzdCIsImZldGNoIiwic3RhdHVzIiwiaHRtbCIsInRleHQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIm9uTmF2aWdhdGUiLCJwYXRobmFtZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJvcmlnaW4iLCJsaW5rIiwib25jbGljayIsInByZXZlbnREZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==