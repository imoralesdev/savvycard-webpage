/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={"./javascript/classes/Component.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var n=s("./node_modules/events/events.js"),i=s.n(n);class r extends(i()){constructor({element:e,elements:t}){super(),this.selector=e,this.selectorChildren={...t},this.create(),this.addEventListeners()}create(){this.selector instanceof window.HTMLElement?this.element=this.selector:this.element=document.querySelector(this.selector),this.elements={},Object.keys(this.selectorChildren).forEach((e=>{const t=this.selectorChildren[e];t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))}))}addEventListeners(){}removeEventListeners(){}}},"./javascript/classes/Page.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});class n{constructor({element:e,elements:t,id:s}){this.selector=e,this.selectorChildren={...t},this.id=s}create(){this.element=document.querySelector(this.selector),this.elements={},Object.keys(this.selectorChildren).forEach((e=>{const t=this.selectorChildren[e];t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))}))}}},"./javascript/components/Navigation.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Component.js");class i extends n.default{constructor({template:e}){super({element:".navigation",elements:{links:".navigation__item",navMobile:".nav-mobile",navMobileMenu:".nav-mobile-menu"}})}toggleNavMobileActive(){document.body.classList.toggle("overflow-hidden"),this.elements.navMobile.classList.toggle("nav-mobile--active"),this.elements.navMobileMenu.classList.toggle("nav-mobile-menu--active")}addEventListeners(){this.onClickNavMobile=this.toggleNavMobileActive.bind(this),this.elements.navMobile.addEventListener("click",this.onClickNavMobile)}}},"./javascript/components/Quote.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Component.js");class i extends n.default{constructor(){super({element:".quote-slider",elements:{quotes:".quote-slider__list",quotesSlideLeft:"#quote_slider_left",quotesSlideRight:"#quote_slider_right",quotesCountNumber:".quote-slider__active"}}),this.slides=[],this.slide=0,this.slidesCarousel()}slidesCarousel(){let e=this;this.slides=this.elements.quotes.childNodes,setInterval((function(){e.slides[e.slide].classList.remove("quote-slider__slide-active"),e.slide++,e.elements.quotesCountNumber.innerHTML=e.slide+1,e.slide>=e.slides.length&&(e.slide=0,e.elements.quotesCountNumber.innerHTML=1),e.slides[e.slide].classList.add("quote-slider__slide-active")}),5e3)}slidesMovement(e){switch(this.slides[this.slide].classList.remove("quote-slider__slide-active"),e.target.dataset.movement){case"left":0===this.slide?(this.elements.quotesCountNumber.innerHTML=this.slides.length,this.slide=this.slides.length-1,this.slides[this.slide].classList.add("quote-slider__slide-active")):(this.elements.quotesCountNumber.innerHTML=this.slide,this.slide=this.slide-1,this.slides[this.slide].classList.add("quote-slider__slide-active"));break;case"right":this.slide=this.slide+1,this.elements.quotesCountNumber.innerHTML=this.slide+1,this.slide>=this.slides.length&&(this.elements.quotesCountNumber.innerHTML=1,this.slide=0),this.slides[this.slide].classList.add("quote-slider__slide-active");break;default:return null}}addEventListeners(){this.onClickSlidesArrow=this.slidesMovement.bind(this),this.elements.quotesSlideLeft.addEventListener("click",this.onClickSlidesArrow),this.elements.quotesSlideRight.addEventListener("click",this.onClickSlidesArrow)}}},"./javascript/pages/Home/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var n=s("./javascript/classes/Page.js"),i=s("./javascript/components/Quote.js");class r extends n.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}})}create(){super.create(),this.createQuote()}createQuote(){this.quote=new i.default}}},"./javascript/pages/RealEstate/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./javascript/classes/Page.js");class i extends n.default{constructor(){super({id:"home",element:".home",elements:{homeBtn:"#home_btn"}})}create(){super.create(),console.log("Real Estate")}}},"./node_modules/events/events.js":e=>{var t,s="object"==typeof Reflect?Reflect:null,n=s&&"function"==typeof s.apply?s.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)};t=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(s,n){function i(s){e.removeListener(t,r),n(s)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",i),s([].slice.call(arguments))}m(e,t,r,{once:!0}),"error"!==t&&function(e,t,s){"function"==typeof e.on&&m(e,"error",t,s)}(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function c(e,t,s,n){var i,r,o,c;if(l(s),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,s.listener?s.listener:s),r=e._events),o=r[t]),void 0===o)o=r[t]=s,++e._eventsCount;else if("function"==typeof o?o=r[t]=n?[s,o]:[o,s]:n?o.unshift(s):o.push(s),(i=a(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,s){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},i=u.bind(n);return i.listener=s,n.wrapFn=i,i}function d(e,t,s){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?s?[i.listener||i]:[i]:s?function(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}(i):f(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var s=t[e];if("function"==typeof s)return 1;if(void 0!==s)return s.length}return 0}function f(e,t){for(var s=new Array(t),n=0;n<t;++n)s[n]=e[n];return s}function m(e,t,s,n){if("function"==typeof e.on)n.once?e.once(t,s):e.on(t,s);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(r){n.once&&e.removeEventListener(t,i),s(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return a(this)},r.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)n(a,this,t);else{var c=a.length,u=f(a,c);for(s=0;s<c;++s)n(u[s],this,t)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},r.prototype.removeListener=function(e,t){var s,n,i,r,o;if(l(t),void 0===(n=this._events))return this;if(void 0===(s=n[e]))return this;if(s===t||s.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,s.listener||t));else if("function"!=typeof s){for(i=-1,r=s.length-1;r>=0;r--)if(s[r]===t||s[r].listener===t){o=s[r].listener,i=r;break}if(i<0)return this;0===i?s.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(s,i),1===s.length&&(n[e]=s[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,s,n;if(void 0===(s=this._events))return this;if(void 0===s.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==s[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete s[e]),this;if(0===arguments.length){var i,r=Object.keys(s);for(n=0;n<r.length;++n)"removeListener"!==(i=r[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=s[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{s.r({});var e=s("./javascript/pages/Home/index.js"),t=s("./javascript/pages/RealEstate/index.js"),n=s("./javascript/components/Navigation.js");new class{constructor(){this.createContent(),this.createPages(),this.addRouterListeners(),this.createNavigation(),window.onpopstate=()=>{const{href:e}=window.location;this.onChange(e)}}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createNavigation(){this.navigation=new n.default({template:this.template})}createPages(){this.pages={home:new e.default,real_estate:new t.default},console.log(this.template),this.page=this.pages[this.template],this.page.create()}async onChange(e){console.log("url change");const t=await window.fetch(e);if(200===t.status){const e=await t.text(),s=document.createElement("div");s.innerHTML=e;const n=s.querySelector(".content");this.template=n.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=n.innerHTML,this.page=this.pages[this.template],this.page.create(),this.addRouterListeners()}else{const e=new Error("Error on fetch");console.log(e)}}onNavigate(e){window.history.pushState({},e,window.location.origin+e)}addRouterListeners(){const e=document.querySelectorAll("a");Object.keys(e).forEach((t=>{const s=e[t];s.onclick=e=>{e.preventDefault();const{href:t,pathname:n}=s;this.onNavigate(n),this.onChange(t)}}))}}})(),s.r(n)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVc5SyxJQUNkQSxFQUFNK0ssaUJBQ04sTUFBTSxLQUFFM0IsRUFBRixTQUFRcUIsR0FBYUksRUFHM0I5TixLQUFLeU4sV0FBV0MsR0FDaEIxTixLQUFLdU0sU0FBU0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvY2xhc3Nlcy9Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2UvLi9qYXZhc2NyaXB0L2NsYXNzZXMvUGFnZS5qcyIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvY29tcG9uZW50cy9OYXZpZ2F0aW9uLmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9jb21wb25lbnRzL1F1b3RlLmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9wYWdlcy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vamF2YXNjcmlwdC9wYWdlcy9SZWFsRXN0YXRlL2luZGV4LmpzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2Uvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NhdnZ5Y2FyZC13ZWJwYWdlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc2F2dnljYXJkLXdlYnBhZ2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zYXZ2eWNhcmQtd2VicGFnZS8uL2phdmFzY3JpcHQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoeyBlbGVtZW50LCBlbGVtZW50cyB9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuc2VsZWN0b3IgPSBlbGVtZW50XG4gICAgdGhpcy5zZWxlY3RvckNoaWxkcmVuID0ge1xuICAgICAgLi4uZWxlbWVudHNcbiAgICB9XG4gICAgdGhpcy5jcmVhdGUoKVxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdG9yIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLnNlbGVjdG9yXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRzID0ge31cblxuICAgIE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0b3JDaGlsZHJlbikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuc2VsZWN0b3JDaGlsZHJlbltrZXldXG5cbiAgICAgIGlmIChcbiAgICAgICAgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHxcbiAgICAgICAgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZUxpc3QgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShlbnRyeSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBlbnRyeVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbnRyeSlcblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IG51bGxcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbnRyeSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpIHt9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7fVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZSB7XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZWxlbWVudHMsIGlkIH0pIHtcbiAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxuICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHtcbiAgICAgIC4uLmVsZW1lbnRzXG4gICAgfVxuICAgIHRoaXMuaWQgPSBpZFxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICB0aGlzLmVsZW1lbnRzID0ge31cblxuICAgIE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0b3JDaGlsZHJlbikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuc2VsZWN0b3JDaGlsZHJlbltrZXldXG5cbiAgICAgIGlmIChcbiAgICAgICAgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHxcbiAgICAgICAgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZUxpc3QgfHxcbiAgICAgICAgQXJyYXkuaXNBcnJheShlbnRyeSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBlbnRyeVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbnRyeSlcblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IG51bGxcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbnRyeSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcImNsYXNzZXMvQ29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHsgdGVtcGxhdGUgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGVsZW1lbnQ6IFwiLm5hdmlnYXRpb25cIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGxpbmtzOiBcIi5uYXZpZ2F0aW9uX19pdGVtXCIsXG4gICAgICAgIG5hdk1vYmlsZTogXCIubmF2LW1vYmlsZVwiLFxuICAgICAgICBuYXZNb2JpbGVNZW51OiBcIi5uYXYtbW9iaWxlLW1lbnVcIlxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB0b2dnbGVOYXZNb2JpbGVBY3RpdmUoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwib3ZlcmZsb3ctaGlkZGVuXCIpXG4gICAgdGhpcy5lbGVtZW50cy5uYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcIm5hdi1tb2JpbGUtLWFjdGl2ZVwiKVxuICAgIHRoaXMuZWxlbWVudHMubmF2TW9iaWxlTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwibmF2LW1vYmlsZS1tZW51LS1hY3RpdmVcIilcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMub25DbGlja05hdk1vYmlsZSA9IHRoaXMudG9nZ2xlTmF2TW9iaWxlQWN0aXZlLmJpbmQodGhpcylcbiAgICB0aGlzLmVsZW1lbnRzLm5hdk1vYmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vbkNsaWNrTmF2TW9iaWxlKVxuICB9XG59XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCJjbGFzc2VzL0NvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1b3RlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgZWxlbWVudDogXCIucXVvdGUtc2xpZGVyXCIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICBxdW90ZXM6IFwiLnF1b3RlLXNsaWRlcl9fbGlzdFwiLFxuICAgICAgICBxdW90ZXNTbGlkZUxlZnQ6IFwiI3F1b3RlX3NsaWRlcl9sZWZ0XCIsXG4gICAgICAgIHF1b3Rlc1NsaWRlUmlnaHQ6IFwiI3F1b3RlX3NsaWRlcl9yaWdodFwiLFxuICAgICAgICBxdW90ZXNDb3VudE51bWJlcjogXCIucXVvdGUtc2xpZGVyX19hY3RpdmVcIlxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLnNsaWRlcyA9IFtdXG4gICAgdGhpcy5zbGlkZSA9IDBcbiAgICB0aGlzLnNsaWRlc0Nhcm91c2VsKClcbiAgfVxuXG4gIHNsaWRlc0Nhcm91c2VsKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICB0aGlzLnNsaWRlcyA9IHRoaXMuZWxlbWVudHMucXVvdGVzLmNoaWxkTm9kZXNcblxuICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNsaWRlc1tfdGhpcy5zbGlkZV0uY2xhc3NMaXN0LnJlbW92ZShcInF1b3RlLXNsaWRlcl9fc2xpZGUtYWN0aXZlXCIpXG4gICAgICBfdGhpcy5zbGlkZSsrXG4gICAgICBfdGhpcy5lbGVtZW50cy5xdW90ZXNDb3VudE51bWJlci5pbm5lckhUTUwgPSBfdGhpcy5zbGlkZSArIDFcblxuICAgICAgaWYgKF90aGlzLnNsaWRlID49IF90aGlzLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMuc2xpZGUgPSAwXG4gICAgICAgIF90aGlzLmVsZW1lbnRzLnF1b3Rlc0NvdW50TnVtYmVyLmlubmVySFRNTCA9IDFcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2xpZGVzW190aGlzLnNsaWRlXS5jbGFzc0xpc3QuYWRkKFwicXVvdGUtc2xpZGVyX19zbGlkZS1hY3RpdmVcIilcbiAgICB9LCA1MDAwKVxuICB9XG5cbiAgc2xpZGVzTW92ZW1lbnQoZXZlbnQpIHtcbiAgICB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlXS5jbGFzc0xpc3QucmVtb3ZlKFwicXVvdGUtc2xpZGVyX19zbGlkZS1hY3RpdmVcIilcblxuICAgIHN3aXRjaCAoZXZlbnQudGFyZ2V0LmRhdGFzZXQubW92ZW1lbnQpIHtcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIGlmICh0aGlzLnNsaWRlID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5xdW90ZXNDb3VudE51bWJlci5pbm5lckhUTUwgPSB0aGlzLnNsaWRlcy5sZW5ndGhcbiAgICAgICAgICB0aGlzLnNsaWRlID0gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMVxuICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuc2xpZGVdLmNsYXNzTGlzdC5hZGQoXCJxdW90ZS1zbGlkZXJfX3NsaWRlLWFjdGl2ZVwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMucXVvdGVzQ291bnROdW1iZXIuaW5uZXJIVE1MID0gdGhpcy5zbGlkZVxuICAgICAgICAgIHRoaXMuc2xpZGUgPSB0aGlzLnNsaWRlIC0gMVxuICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuc2xpZGVdLmNsYXNzTGlzdC5hZGQoXCJxdW90ZS1zbGlkZXJfX3NsaWRlLWFjdGl2ZVwiKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgdGhpcy5zbGlkZSA9IHRoaXMuc2xpZGUgKyAxXG4gICAgICAgIHRoaXMuZWxlbWVudHMucXVvdGVzQ291bnROdW1iZXIuaW5uZXJIVE1MID0gdGhpcy5zbGlkZSArIDFcblxuICAgICAgICBpZiAodGhpcy5zbGlkZSA+PSB0aGlzLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnF1b3Rlc0NvdW50TnVtYmVyLmlubmVySFRNTCA9IDFcbiAgICAgICAgICB0aGlzLnNsaWRlID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV0uY2xhc3NMaXN0LmFkZChcInF1b3RlLXNsaWRlcl9fc2xpZGUtYWN0aXZlXCIpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMub25DbGlja1NsaWRlc0Fycm93ID0gdGhpcy5zbGlkZXNNb3ZlbWVudC5iaW5kKHRoaXMpXG4gICAgdGhpcy5lbGVtZW50cy5xdW90ZXNTbGlkZUxlZnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xpY2tcIixcbiAgICAgIHRoaXMub25DbGlja1NsaWRlc0Fycm93XG4gICAgKVxuICAgIHRoaXMuZWxlbWVudHMucXVvdGVzU2xpZGVSaWdodC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgdGhpcy5vbkNsaWNrU2xpZGVzQXJyb3dcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIlxuaW1wb3J0IFF1b3RlIGZyb20gXCJjb21wb25lbnRzL1F1b3RlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBpZDogXCJob21lXCIsXG4gICAgICBlbGVtZW50OiBcIi5ob21lXCIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICBob21lQnRuOiBcIiNob21lX2J0blwiXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBzdXBlci5jcmVhdGUoKVxuICAgIHRoaXMuY3JlYXRlUXVvdGUoKVxuICB9XG5cbiAgY3JlYXRlUXVvdGUoKSB7XG4gICAgdGhpcy5xdW90ZSA9IG5ldyBRdW90ZSgpXG4gIH1cbn1cbiIsImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFsRXN0YXRlIGV4dGVuZHMgUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGlkOiBcImhvbWVcIixcbiAgICAgIGVsZW1lbnQ6IFwiLmhvbWVcIixcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGhvbWVCdG46IFwiI2hvbWVfYnRuXCJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHN1cGVyLmNyZWF0ZSgpXG4gICAgY29uc29sZS5sb2coXCJSZWFsIEVzdGF0ZVwiKVxuICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCBIb21lIGZyb20gXCIuL3BhZ2VzL0hvbWVcIlxuaW1wb3J0IFJlYWxFc3RhdGUgZnJvbSBcIi4vcGFnZXMvUmVhbEVzdGF0ZVwiXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL05hdmlnYXRpb25cIlxuXG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKVxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuICAgIHRoaXMuYWRkUm91dGVyTGlzdGVuZXJzKClcbiAgICB0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKVxuXG4gICAgLy8gUmVhY3RpbmcgdG8gYmFjayBvciBmb3dhcmQgYnV0dG9uIHRvIHJvdXRlclxuICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBocmVmIH0gPSB3aW5kb3cubG9jYXRpb25cbiAgICAgIHRoaXMub25DaGFuZ2UoaHJlZilcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKVxuICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmNvbnRlbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10ZW1wbGF0ZVwiKVxuICB9XG5cbiAgY3JlYXRlTmF2aWdhdGlvbigpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbih7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVQYWdlcygpIHtcbiAgICB0aGlzLnBhZ2VzID0ge1xuICAgICAgaG9tZTogbmV3IEhvbWUoKSxcbiAgICAgIHJlYWxfZXN0YXRlOiBuZXcgUmVhbEVzdGF0ZSgpXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2codGhpcy50ZW1wbGF0ZSlcbiAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG4gIH1cblxuICAvLyBNaW1pYyBSZWFjdCBSb3V0ZXJcbiAgYXN5bmMgb25DaGFuZ2UodXJsKSB7XG4gICAgY29uc29sZS5sb2coXCJ1cmwgY2hhbmdlXCIpXG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpXG5cbiAgICAvLyBSZW5kZXJpbmcgcGFnZVxuICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVxdWVzdC50ZXh0KClcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcblxuICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxcblxuICAgICAgY29uc3QgZGl2Q29udGVudCA9IGRpdi5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIilcbiAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGVtcGxhdGVcIilcblxuICAgICAgdGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdGVtcGxhdGVcIiwgdGhpcy50ZW1wbGF0ZSlcbiAgICAgIHRoaXMuY29udGVudC5pbm5lckhUTUwgPSBkaXZDb250ZW50LmlubmVySFRNTFxuXG4gICAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXG4gICAgICB0aGlzLnBhZ2UuY3JlYXRlKClcbiAgICAgIHRoaXMuYWRkUm91dGVyTGlzdGVuZXJzKClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwiRXJyb3Igb24gZmV0Y2hcIilcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICB9XG4gIH1cblxuICBvbk5hdmlnYXRlKHBhdGhuYW1lKSB7XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCBwYXRobmFtZSwgd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHBhdGhuYW1lKVxuICB9XG5cbiAgYWRkUm91dGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImFcIilcblxuICAgIE9iamVjdC5rZXlzKGxpbmtzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBsaW5rc1trZXldXG5cbiAgICAgIGxpbmsub25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGNvbnN0IHsgaHJlZiwgcGF0aG5hbWUgfSA9IGxpbmtcblxuICAgICAgICAvLyBTZXR0aW5nIHJvdXRlciBwYXRoIG9uIFVSTFxuICAgICAgICB0aGlzLm9uTmF2aWdhdGUocGF0aG5hbWUpXG4gICAgICAgIHRoaXMub25DaGFuZ2UoaHJlZilcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbm5ldyBBcHAoKVxuIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsImVsZW1lbnRzIiwic3VwZXIiLCJ0aGlzIiwic2VsZWN0b3IiLCJzZWxlY3RvckNoaWxkcmVuIiwiY3JlYXRlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiZW50cnkiLCJOb2RlTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIlBhZ2UiLCJpZCIsIk5hdmlnYXRpb24iLCJ0ZW1wbGF0ZSIsImxpbmtzIiwibmF2TW9iaWxlIiwibmF2TW9iaWxlTWVudSIsInRvZ2dsZU5hdk1vYmlsZUFjdGl2ZSIsImJvZHkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJvbkNsaWNrTmF2TW9iaWxlIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJRdW90ZSIsInF1b3RlcyIsInF1b3Rlc1NsaWRlTGVmdCIsInF1b3Rlc1NsaWRlUmlnaHQiLCJxdW90ZXNDb3VudE51bWJlciIsInNsaWRlcyIsInNsaWRlIiwic2xpZGVzQ2Fyb3VzZWwiLCJfdGhpcyIsImNoaWxkTm9kZXMiLCJzZXRJbnRlcnZhbCIsInJlbW92ZSIsImlubmVySFRNTCIsImFkZCIsInNsaWRlc01vdmVtZW50IiwiZXZlbnQiLCJ0YXJnZXQiLCJkYXRhc2V0IiwibW92ZW1lbnQiLCJvbkNsaWNrU2xpZGVzQXJyb3ciLCJIb21lIiwiaG9tZUJ0biIsImNyZWF0ZVF1b3RlIiwicXVvdGUiLCJSZWFsRXN0YXRlIiwiY29uc29sZSIsImxvZyIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiY2FsbCIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uY2F0IiwiTnVtYmVySXNOYU4iLCJOdW1iZXIiLCJpc05hTiIsInZhbHVlIiwiaW5pdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJvbmNlIiwiZW1pdHRlciIsIm5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVycm9yTGlzdGVuZXIiLCJlcnIiLCJyZW1vdmVMaXN0ZW5lciIsInJlc29sdmVyIiwic2xpY2UiLCJhcmd1bWVudHMiLCJldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIiLCJoYW5kbGVyIiwiZmxhZ3MiLCJvbiIsImFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyIiwiX2V2ZW50cyIsInVuZGVmaW5lZCIsIl9ldmVudHNDb3VudCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiY2hlY2tMaXN0ZW5lciIsImxpc3RlbmVyIiwiVHlwZUVycm9yIiwiX2dldE1heExpc3RlbmVycyIsInRoYXQiLCJfYWRkTGlzdGVuZXIiLCJ0eXBlIiwicHJlcGVuZCIsIm0iLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJ1bnNoaWZ0IiwicHVzaCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50Iiwid2FybiIsIm9uY2VXcmFwcGVyIiwiZmlyZWQiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsIndyYXBwZWQiLCJfbGlzdGVuZXJzIiwidW53cmFwIiwiZXZsaXN0ZW5lciIsImFyciIsInJldCIsImkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsIm4iLCJjb3B5Iiwid3JhcExpc3RlbmVyIiwiYXJnIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlcnJvciIsImVyIiwibWVzc2FnZSIsImNvbnRleHQiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlUGFnZXMiLCJhZGRSb3V0ZXJMaXN0ZW5lcnMiLCJjcmVhdGVOYXZpZ2F0aW9uIiwib25wb3BzdGF0ZSIsImhyZWYiLCJsb2NhdGlvbiIsIm9uQ2hhbmdlIiwiY29udGVudCIsImdldEF0dHJpYnV0ZSIsIm5hdmlnYXRpb24iLCJwYWdlcyIsImhvbWUiLCJyZWFsX2VzdGF0ZSIsInBhZ2UiLCJ1cmwiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwib25OYXZpZ2F0ZSIsInBhdGhuYW1lIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIm9yaWdpbiIsImxpbmsiLCJvbmNsaWNrIiwicHJldmVudERlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9